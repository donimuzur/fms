@using FMS.Core;
@model FMS.Website.Models.SummaryAllModel

@{
    ViewBag.Title = Model.TitleForm;
}

<div class="opt-content clearfloat">
    <h5 class="title-page">@ViewBag.Title</h5>
    <a href="#!" class="btn btn-primary line" id="btnExport" title="Export To Excel" onclick="ExportXls()">
        <i class="fa fa-download"></i> Export
    </a>
</div>
<section class="content">
    @using (Html.BeginForm(Model.TitleExport, "RptExecutiveSummary", FormMethod.Post, new { @id = "ExportToXls" }))
    {
        @Html.HiddenFor(model => model.SearchViewExport.MonthFrom)
        @Html.HiddenFor(model => model.SearchViewExport.YearFrom)
    }
    <div class="wpanel">
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <label for="">Month</label>
                    @Html.DropDownListFor(model => model.SearchView.MonthFrom, Model.SearchView.MonthList, new { @class = "form-control month" })
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label for="">Year</label>
                    @Html.TextBoxFor(model => model.SearchView.YearFrom, new { @class = "form-control year" })
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-md-12">
                <button id="btn-filter" type="submit" class="btn btn-primary">Filter</button>
                <button id="btn-reset" type="button" class="btn btn-default">Reset</button>
            </div>
        </div>
    </div>
    <div class="wpanel">
        @*<table id="tbSummary" class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th>Menu</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><a href="@Url.Action("Index", "RptExecutiveSummary")" data-placement="top" title="Detail" class="action">Number Of Vehicle</a></td></tr>
                <tr><td><a href="@Url.Action("VehicleWtc", "RptExecutiveSummary")" data-placement="top" title="Detail" class="action">Number Of Vehicle WTC</a></td></tr>
                <tr><td><a href="@Url.Action("VehicleMake", "RptExecutiveSummary")" data-placement="top" title="Detail" class="action">Number Of Vehicle Make</a></td></tr>
                <tr><td><a href="@Url.Action("Odometer", "RptExecutiveSummary")" data-placement="top" title="Detail" class="action">Odometer</a></td></tr>
                <tr><td><a href="@Url.Action("LiterByFunction", "RptExecutiveSummary")" data-placement="top" title="Detail" class="action">Liter By Function</a></td></tr>
                <tr><td><a href="@Url.Action("FuelCostByFunction", "RptExecutiveSummary")" data-placement="top" title="Detail" class="action">Fuel Cost By Function</a></td></tr>
                <tr><td><a href="@Url.Action("LeaseCostByFunction", "RptExecutiveSummary")" data-placement="top" title="Detail" class="action">Lease Cost By Function</a></td></tr>
                <tr><td><a href="@Url.Action("SalesByRegion", "RptExecutiveSummary")" data-placement="top" title="Detail" class="action">Sales By Region</a></td></tr>
                <tr><td><a href="@Url.Action("Accident", "RptExecutiveSummary")" data-placement="top" title="Detail" class="action">Accident</a></td></tr>
                <tr><td><a href="@Url.Action("AcVsOb", "RptExecutiveSummary")" data-placement="top" title="Detail" class="action">AC Vs OB</a></td></tr>
            </tbody>
        </table>*@
        <!-- summary grid -->
        <div class="chart-summary">
            <div class="row">
                <div class="col-md-3">
                    <div class="block-card bblue">
                        <div class="title">
                            <h3>230.000</h3>
                        </div>
                        <div class="subtitle">
                            <p>120.000 Benefits</p>
                            <p>210.000 WTC</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="block-card bblue odometer">
                        <div class="title">
                            <h3>230.010</h3>
                        </div>
                        <div class="subtitle">
                            <p>120.000 Marketing</p>
                            <p>210.010 Sales</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="block-card bblue accident">
                        <div class="title">
                            <h3>230.000</h3>
                        </div>
                        <div class="subtitle">
                            <p>120.000 Benefits</p>
                            <p>210.000 WTC</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="block-card bblue key">
                        <div class="title">
                            <h3>230.000</h3>
                        </div>
                        <div class="subtitle">
                            <p>120.000 Benefits</p>
                            <p>210.000 WTC</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fa fa-car"></i> <a href="@Url.Action("Index", "RptExecutiveSummary")">Number Of Vehicle</a></h5>
                            <canvas id="pieChart"></canvas>
                        </div>
                        <div class="card-footer"><i class="fa fa-clock-o"></i> Updated 2 Sept 2017, 01:22 am</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fa fa-car"></i> <a href="@Url.Action("VehicleWtc", "RptExecutiveSummary")">Number Of Vehicle WTC</a></h5>
                            <canvas id="canvasDoughnut"></canvas>
                        </div>
                        <div class="card-footer"><i class="fa fa-clock-o"></i> Updated 2 Sept 2017, 01:22 am</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fa fa-balance-scale"></i> <a href="@Url.Action("VehicleMake", "RptExecutiveSummary")">Number Of Vehicle Make</a></h5>
                            <canvas id="polarArea"></canvas>
                        </div>
                        <div class="card-footer"><i class="fa fa-clock-o"></i> Updated 2 Sept 2017, 01:22 am</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fa fa-car"></i> <a href="@Url.Action("Odometer", "RptExecutiveSummary")">Odometer</a></h5>
                            <canvas id="canvasDoughnut2"></canvas>
                        </div>
                        <div class="card-footer"><i class="fa fa-clock-o"></i> Updated 2 Sept 2017, 01:22 am</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fa fa-balance-scale"></i> <a href="@Url.Action("LiterByFunction", "RptExecutiveSummary")">Liter By Function</a></h5>
                            <canvas id="polarArea2"></canvas>
                        </div>
                        <div class="card-footer"><i class="fa fa-clock-o"></i> Updated 2 Sept 2017, 01:22 am</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fa fa-car"></i> <a href="@Url.Action("FuelCostByFunction", "RptExecutiveSummary")">Fuel Cost By Function</a></h5>
                            <canvas id="pieChart2"></canvas>
                        </div>
                        <div class="card-footer"><i class="fa fa-clock-o"></i> Updated 2 Sept 2017, 01:22 am</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fa fa-balance-scale"></i> <a href="@Url.Action("LeaseCostByFunction", "RptExecutiveSummary")">Lease Cost By Function</a></h5>
                            <canvas id="polarArea3"></canvas>
                        </div>
                        <div class="card-footer"><i class="fa fa-clock-o"></i> Updated 2 Sept 2017, 01:22 am</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fa fa-balance-scale"></i> <a href="@Url.Action("SalesByRegion", "RptExecutiveSummary")">Sales By Region</a></h5>
                            <canvas id="pieChart3"></canvas>
                        </div>
                        <div class="card-footer"><i class="fa fa-clock-o"></i> Updated 2 Sept 2017, 01:22 am</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fa fa-car"></i> <a href="@Url.Action("Accident", "RptExecutiveSummary")">Accident</a></h5>
                            <canvas id="canvasDoughnut3"></canvas>
                        </div>
                        <div class="card-footer"><i class="fa fa-clock-o"></i> Updated 2 Sept 2017, 01:22 am</div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fa fa-bullseye"></i> AC Vs OB</h5>
                            <canvas id="mybarChart"></canvas>
                        </div>
                        <div class="card-footer"><i class="fa fa-clock-o"></i> Updated 2 Sept 2017, 01:22 am</div>
                    </div>
                </div>
            </div>
        </div>
        <!-- end summary grid -->
    </div>
</section>
<script src="~/Scripts/js/Chart.bundle.min.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
<script src="~/Scripts/execsumscript.js"></script>
<script type="text/javascript">
    function init_charts() {

        var isByRegion = '@Model.IsByRegion';

        console.log('run_charts  typeof [' + typeof (Chart) + ']');

        if (typeof (Chart) === 'undefined') { return; }

        console.log('init_charts');

        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetVehicleDataVisual", "RptExecutiveSummary")',
            data: { monthFrom: $('#SearchView_MonthFrom').val(), yearFrom: $('#SearchView_YearFrom').val(), isByRegion: isByRegion },
            success: function (response) {
                var labels_chart = [];
                var value_chart = [];
                var color_chart = [];

                for (var i = 0; i < response.length; i++) {
                    if (isByRegion === 'True') {
                        labels_chart.push(response[i].FUNCTION);
                    } else if (isByRegion === 'False') {
                        labels_chart.push(response[i].VEHICLE_TYPE);
                    }
                    value_chart.push(response[i].NO_OF_VEHICLE);

                    if (i == 0) {
                        color_chart.push("#828282");
                    } else if (i == 1) {
                        color_chart.push("#B21B1B");
                    } else if (i == 2) {
                        color_chart.push("#BDC3C7");
                    } else if (i == 3) {
                        color_chart.push("#344F67");
                    } else if (i == 4) {
                        color_chart.push("#21A4FF");
                    }
                }

                // Pie chart
                if ($('#pieChart').length) {

                    var ctx = document.getElementById("pieChart");
                    var data = {
                        labels: labels_chart,
                        datasets: [{
                            data: value_chart,
                            backgroundColor: color_chart,
                            hoverBackgroundColor: color_chart
                        }]
                    };

                    var pieChart = new Chart(ctx, {
                        data: data,
                        type: 'pie'
                    });

                }
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetVehicleWtcDataVisual", "RptExecutiveSummary")',
            data: { monthFrom: $('#SearchView_MonthFrom').val(), yearFrom: $('#SearchView_YearFrom').val(), isByRegion: isByRegion },
            success: function (response) {
                var labels_chart = [];
                var value_chart = [];
                var color_chart = [];

                for (var i = 0; i < response.length; i++) {
                    labels_chart.push(response[i].FUNCTION);
                    value_chart.push(response[i].NO_OF_VEHICLE);

                    if (i == 4) {
                        color_chart.push("#828282");
                    } else if (i == 3) {
                        color_chart.push("#B21B1B");
                    } else if (i == 2) {
                        color_chart.push("#BDC3C7");
                    } else if (i == 1) {
                        color_chart.push("#344F67");
                    } else if (i == 0) {
                        color_chart.push("#21A4FF");
                    }
                }

                // Doughnut chart
                if ($('#canvasDoughnut').length) {

                    var ctx = document.getElementById("canvasDoughnut");
                    var data = {
                        labels: labels_chart,
                        datasets: [{
                            data: value_chart,
                            backgroundColor: color_chart,
                            hoverBackgroundColor: color_chart
                        }]
                    };

                    var canvasDoughnut = new Chart(ctx, {
                        data: data,
                        type: 'doughnut'
                    });

                }
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetVehicleMakeDataVisual", "RptExecutiveSummary")',
            data: { monthFrom: $('#SearchView_MonthFrom').val(), yearFrom: $('#SearchView_YearFrom').val(), isByRegion: isByRegion },
            success: function (response) {
                var labels_chart = [];
                var value_chart = [];
                var color_chart = [];

                for (var i = 0; i < response.length; i++) {
                    labels_chart.push(response[i].MANUFACTURER);
                    value_chart.push(response[i].NO_OF_VEHICLE);

                    if (i == 0) {
                        color_chart.push("#828282");
                    } else if (i == 1) {
                        color_chart.push("#B21B1B");
                    } else if (i == 2) {
                        color_chart.push("#BDC3C7");
                    } else if (i == 3) {
                        color_chart.push("#344F67");
                    } else if (i == 4) {
                        color_chart.push("#21A4FF");
                    }
                }

                // PolarArea chart
                if ($('#polarArea').length) {

                    var ctx = document.getElementById("polarArea");
                    var data = {
                        labels: labels_chart,
                        datasets: [{
                            data: value_chart,
                            backgroundColor: color_chart,
                            hoverBackgroundColor: color_chart
                        }]
                    };

                    var polarArea = new Chart(ctx, {
                        data: data,
                        type: 'polarArea'
                    });

                }
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetOdometerDataVisual", "RptExecutiveSummary")',
            data: { monthFrom: $('#SearchView_MonthFrom').val(), yearFrom: $('#SearchView_YearFrom').val(), isByRegion: isByRegion },
            success: function (response) {
                var labels_chart = [];
                var value_chart = [];
                var color_chart = [];

                for (var i = 0; i < response.length; i++) {
                    if (isByRegion === 'True') {
                        labels_chart.push(response[i].FUNCTION);
                    } else if (isByRegion === 'False') {
                        labels_chart.push(response[i].VEHICLE_TYPE);
                    }
                    value_chart.push(response[i].TOTAL_KM);

                    if (i == 4) {
                        color_chart.push("#828282");
                    } else if (i == 3) {
                        color_chart.push("#B21B1B");
                    } else if (i == 2) {
                        color_chart.push("#BDC3C7");
                    } else if (i == 1) {
                        color_chart.push("#344F67");
                    } else if (i == 0) {
                        color_chart.push("#21A4FF");
                    }
                }

                // Doughnut chart
                if ($('#canvasDoughnut2').length) {

                    var ctx = document.getElementById("canvasDoughnut2");
                    var data = {
                        labels: labels_chart,
                        datasets: [{
                            data: value_chart,
                            backgroundColor: color_chart,
                            hoverBackgroundColor: color_chart
                        }]
                    };

                    var canvasDoughnut2 = new Chart(ctx, {
                        data: data,
                        type: 'doughnut'
                    });

                }
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetLiterByFunctionDataVisual", "RptExecutiveSummary")',
            data: { monthFrom: $('#SearchView_MonthFrom').val(), yearFrom: $('#SearchView_YearFrom').val(), isByRegion: isByRegion },
            success: function (response) {
                var labels_chart = [];
                var value_chart = [];
                var color_chart = [];

                for (var i = 0; i < response.length; i++) {
                    if (isByRegion === 'True') {
                        labels_chart.push(response[i].FUNCTION);
                    } else if (isByRegion === 'False') {
                        labels_chart.push(response[i].VEHICLE_TYPE);
                    }
                    value_chart.push(response[i].TOTAL_LITER);

                    if (i == 0) {
                        color_chart.push("#828282");
                    } else if (i == 1) {
                        color_chart.push("#B21B1B");
                    } else if (i == 2) {
                        color_chart.push("#BDC3C7");
                    } else if (i == 3) {
                        color_chart.push("#344F67");
                    } else if (i == 4) {
                        color_chart.push("#21A4FF");
                    }
                }

                // PolarArea chart
                if ($('#polarArea2').length) {

                    var ctx = document.getElementById("polarArea2");
                    var data = {
                        labels: labels_chart,
                        datasets: [{
                            data: value_chart,
                            backgroundColor: color_chart,
                            hoverBackgroundColor: color_chart
                        }]
                    };

                    var polarArea2 = new Chart(ctx, {
                        data: data,
                        type: 'polarArea'
                    });

                }
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetFuelCostByFunctionDataVisual", "RptExecutiveSummary")',
            data: { monthFrom: $('#SearchView_MonthFrom').val(), yearFrom: $('#SearchView_YearFrom').val(), isByRegion: isByRegion },
            success: function (response) {
                var labels_chart = [];
                var value_chart = [];
                var color_chart = [];

                for (var i = 0; i < response.length; i++) {
                    if (isByRegion === 'True') {
                        labels_chart.push(response[i].FUNCTION);
                    } else if (isByRegion === 'False') {
                        labels_chart.push(response[i].VEHICLE_TYPE);
                    }
                    value_chart.push(response[i].TOTAL_FUEL_COST);

                    if (i == 0) {
                        color_chart.push("#828282");
                    } else if (i == 1) {
                        color_chart.push("#B21B1B");
                    } else if (i == 2) {
                        color_chart.push("#BDC3C7");
                    } else if (i == 3) {
                        color_chart.push("#344F67");
                    } else if (i == 4) {
                        color_chart.push("#21A4FF");
                    }
                }

                // Pie chart
                if ($('#pieChart2').length) {

                    var ctx = document.getElementById("pieChart2");
                    var data = {
                        labels: labels_chart,
                        datasets: [{
                            data: value_chart,
                            backgroundColor: color_chart,
                            hoverBackgroundColor: color_chart
                        }]
                    };

                    var pieChart2 = new Chart(ctx, {
                        data: data,
                        type: 'pie'
                    });

                }
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetLeaseCostByFunctionDataVisual", "RptExecutiveSummary")',
            data: { monthFrom: $('#SearchView_MonthFrom').val(), yearFrom: $('#SearchView_YearFrom').val(), isByRegion: isByRegion },
            success: function (response) {
                var labels_chart = [];
                var value_chart = [];
                var color_chart = [];

                for (var i = 0; i < response.length; i++) {
                    labels_chart.push(response[i].FUNCTION);
                    value_chart.push(response[i].TOTAL_LEASE_COST);

                    if (i == 0) {
                        color_chart.push("#828282");
                    } else if (i == 1) {
                        color_chart.push("#B21B1B");
                    } else if (i == 2) {
                        color_chart.push("#BDC3C7");
                    } else if (i == 3) {
                        color_chart.push("#344F67");
                    } else if (i == 4) {
                        color_chart.push("#21A4FF");
                    }
                }

                // PolarArea chart
                if ($('#polarArea3').length) {

                    var ctx = document.getElementById("polarArea3");
                    var data = {
                        labels: labels_chart,
                        datasets: [{
                            data: value_chart,
                            backgroundColor: color_chart,
                            hoverBackgroundColor: color_chart
                        }]
                    };

                    var polarArea3 = new Chart(ctx, {
                        data: data,
                        type: 'polarArea'
                    });

                }
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("SalesByRegionDataVisual", "RptExecutiveSummary")',
            data: { monthFrom: $('#SearchView_MonthFrom').val(), yearFrom: $('#SearchView_YearFrom').val(), isByRegion: isByRegion },
            success: function (response) {
                var labels_chart = [];
                var value_chart = [];
                var color_chart = [];

                for (var i = 0; i < response.length; i++) {
                    labels_chart.push(response[i].REGION);
                    value_chart.push(response[i].STICK);

                    if (i == 0) {
                        color_chart.push("#828282");
                    } else if (i == 1) {
                        color_chart.push("#B21B1B");
                    } else if (i == 2) {
                        color_chart.push("#BDC3C7");
                    } else if (i == 3) {
                        color_chart.push("#344F67");
                    } else if (i == 4) {
                        color_chart.push("#21A4FF");
                    }
                }

                // Pie chart
                if ($('#pieChart3').length) {

                    var ctx = document.getElementById("pieChart3");
                    var data = {
                        labels: labels_chart,
                        datasets: [{
                            data: value_chart,
                            backgroundColor: color_chart,
                            hoverBackgroundColor: color_chart
                        }]
                    };

                    var pieChart3 = new Chart(ctx, {
                        data: data,
                        type: 'pie'
                    });

                }
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("AccidentDataVisual", "RptExecutiveSummary")',
            data: { monthFrom: $('#SearchView_MonthFrom').val(), yearFrom: $('#SearchView_YearFrom').val(), isByRegion: isByRegion },
            success: function (response) {
                var labels_chart = [];
                var value_chart = [];
                var color_chart = [];

                for (var i = 0; i < response.length; i++) {
                    if (isByRegion === 'True') {
                        labels_chart.push(response[i].FUNCTION);
                    } else if (isByRegion === 'False') {
                        labels_chart.push(response[i].VEHICLE_TYPE);
                    }
                    
                    value_chart.push(response[i].ACCIDENT_COUNT);

                    if (i == 4) {
                        color_chart.push("#828282");
                    } else if (i == 3) {
                        color_chart.push("#B21B1B");
                    } else if (i == 2) {
                        color_chart.push("#BDC3C7");
                    } else if (i == 1) {
                        color_chart.push("#344F67");
                    } else if (i == 0) {
                        color_chart.push("#21A4FF");
                    }
                }

                // Doughnut chart
                if ($('#canvasDoughnut3').length) {

                    var ctx = document.getElementById("canvasDoughnut3");
                    var data = {
                        labels: labels_chart,
                        datasets: [{
                            data: value_chart,
                            backgroundColor: color_chart,
                            hoverBackgroundColor: color_chart
                        }]
                    };

                    var canvasDoughnut3 = new Chart(ctx, {
                        data: data,
                        type: 'doughnut'
                    });

                }
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("AcObDataVisual", "RptExecutiveSummary")',
            data: { monthFrom: $('#SearchView_MonthFrom').val(), yearFrom: $('#SearchView_YearFrom').val(), isByRegion: isByRegion },
            success: function (response) {
                var labels_chart = [];
                var ob_chart = [];
                var ac_chart = [];

                for (var i = 0; i < response.length; i++) {
                    labels_chart.push(response[i].FUNCTION);
                    ob_chart.push(response[i].COST_OB);
                    ac_chart.push(response[i].ACTUAL_COST);
                }

                // Bar chart
                if ($('#mybarChart').length) {

                    var ctx = document.getElementById("mybarChart");
                    var mybarChart = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: labels_chart,
                            datasets: [{
                                label: '# of Operational Budget',
                                backgroundColor: "#21A4FF",
                                data: ob_chart
                            }, {
                                label: '# of Actual Cost',
                                backgroundColor: "#828282",
                                data: ac_chart
                            }]
                        },

                        options: {
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero: true
                                    }
                                }]
                            }
                        }
                    });

                }
            }
        });
    }

    $(document).ready(function () {
        init_charts();
    });

    function ExportXls() {
        $('#SearchViewExport_MonthFrom').val($('#SearchView_MonthFrom').val());
        $('#SearchViewExport_MonthTo').val($('#SearchView_MonthFrom').val());
        $('#SearchViewExport_YearFrom').val($('#SearchView_YearFrom').val());
        $('#SearchViewExport_YearTo').val($('#SearchView_YearFrom').val());
        $('#ExportToXls').submit();
    }

    //function setupDataTables() {
    //    // DataTable
    //    var table = $('#tbSummary').DataTable({
    //        "dom": 'lf<"table-overflow"t>pi'
    //    });

    //    // Apply the search
    //    table.columns().eq(0).each(function (colIdx) {
    //        $('input', $('.filters th')[colIdx]).on('keyup change', function () {
    //            table
    //                .column(colIdx)
    //                .search(this.value)
    //                .draw();
    //        });
    //    });
    //}

    $(document).on('click', '#btn-reset', function () {
        var d = new Date();

        $('.month').val(d.getMonth() + 1);
        $(".year").val(d.getFullYear());
        $(".select").val('');
        $(".text").val('');

        $("#btn-filter").trigger('click');
    });

    $(document).on('click', '#btn-filter', function () {
        init_charts();
    });

    //$(function () {
    //    setupDataTables();
    //});
</script>